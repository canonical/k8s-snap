# 1.34

**{{product}} 1.34 - Release notes - 08 September 2025**

## Requirements and compatibility

{{product}} can be installed on a variety of operating systems using 
several methods. For specific requirements, see the [Installation guides].

## What's new

- **Kubernetes 1.34** - read more about the upstream release [here].

- **Managed etcd datastore** - {{product}} 1.34 introduces managed etcd as 
the default cluster datastore for new clusters. This provides enhanced 
reliability, performance, and operational consistency with upstream Kubernetes 
practices. Existing clusters using k8s-dqlite will continue to function 
without changes during upgrades.

<!-- - **FIPS compliance support** - Enable [FIPS 140-3] (Federal Information 
Processing Standards) compliance for enhanced security in regulated 
environments. {{product}} now uses FIPS-compliant embedded components 
and Go toolchain where supported.

- **Enhanced DISA STIG hardening** - Improved support for Defense Information 
Systems Agency Security Technical Implementation Guides (DISA STIG) with 
updated hardening resource files and guidelines automatically installed with 
the snap. -->

- **Improved feature controller reliability** - Enhanced feature upgrade 
process with worker node coordination.

## Also in this release

- Update CNI to v1.7.1
- Update Kubernetes to v1.34.0
- Update [k8s-dqlite] to v1.8.0
- Enable etcd port checks during bootstrap verification
- Improve initial cluster configuration for etcd setups
- Enhanced upgrade controller with worker node wait functionality
- Better feature gate ordering to prevent unnecessary restarts
- Improved integration test stability for version upgrades
- Updated documentation for etcd quorum recovery procedures
- Enhanced inspection reports with etcd service information

## Deprecations and API changes

- Upstream - Please review the
[upstream release notes][upstream-changelog-1.34], which include depreciation
notices and API changes for Kubernetes 1.34.

## Fixed bugs and issues

- Fixed invalid `iproute2` JSON output ([#1820])
- Fixed feature gate ordering to prevent unnecessary restarts ([#1800])
- Fixed features not getting reconciled after k8sd restart ([#1781])
- Fixed etcd initial cluster member list derivation ([#1756])
- Fixed bootstrap verification with etcd port checks ([#1767])
- Fixed version upgrade test to prevent multiple refreshes on a worker 
node ([#1737])

## Upgrade notes

See our [upgrade notes] page for instructions on how to upgrade to 1.34.

```{note}
New clusters in 1.34 will use managed etcd as the default datastore. 
Existing clusters using k8s-dqlite will not be affected during 
upgrade and will continue to use k8s-dqlite.
```

<!-- LINKS -->
[Installation guides]: /snap/howto/install/index
[here]: https://kubernetes.io/blog/2025/08/27/kubernetes-v1-34-release/
[upstream-changelog-1.34]: https://github.com/kubernetes/kubernetes/blob/master/CHANGELOG/CHANGELOG-1.34.md#deprecation
[k8s-dqlite]: https://github.com/canonical/k8s-dqlite
[upgrade notes]: /snap/reference/upgrading/
<!-- [FIPS 140-3]: https://en.wikipedia.org/wiki/FIPS_140-3 -->

<!-- PR -->
[#1820]: https://github.com/canonical/k8s-snap/pull/1820
[#1800]: https://github.com/canonical/k8s-snap/pull/1800
[#1781]: https://github.com/canonical/k8s-snap/pull/1781
[#1756]: https://github.com/canonical/k8s-snap/pull/1756
[#1767]: https://github.com/canonical/k8s-snap/pull/1767
[#1737]: https://github.com/canonical/k8s-snap/pull/1737
